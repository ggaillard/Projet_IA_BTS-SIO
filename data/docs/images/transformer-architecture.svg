<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
  <!-- Background with grid -->
  <rect width="800" height="600" fill="#f8f9fa" />
  <g stroke="#ddd" stroke-width="1">
    <line x1="0" y1="50" x2="800" y2="50" />
    <line x1="0" y1="100" x2="800" y2="100" />
    <line x1="0" y1="150" x2="800" y2="150" />
    <line x1="0" y1="200" x2="800" y2="200" />
    <line x1="0" y1="250" x2="800" y2="250" />
    <line x1="0" y1="300" x2="800" y2="300" />
    <line x1="0" y1="350" x2="800" y2="350" />
    <line x1="0" y1="400" x2="800" y2="400" />
    <line x1="0" y1="450" x2="800" y2="450" />
    <line x1="0" y1="500" x2="800" y2="500" />
    <line x1="0" y1="550" x2="800" y2="550" />
    
    <line x1="100" y1="0" x2="100" y2="600" />
    <line x1="200" y1="0" x2="200" y2="600" />
    <line x1="300" y1="0" x2="300" y2="600" />
    <line x1="400" y1="0" x2="400" y2="600" />
    <line x1="500" y1="0" x2="500" y2="600" />
    <line x1="600" y1="0" x2="600" y2="600" />
    <line x1="700" y1="0" x2="700" y2="600" />
  </g>
  
  <!-- Title -->
  <text x="400" y="30" font-family="Arial" font-size="24" text-anchor="middle" fill="#333">Architecture Transformer</text>
  
  <!-- Encoder Stack (left side) -->
  <rect x="150" y="80" width="200" height="450" rx="10" fill="#e3f2fd" stroke="#2196f3" stroke-width="2" />
  <text x="250" y="100" font-family="Arial" font-size="18" text-anchor="middle" fill="#1565c0">Encodeur</text>
  
  <!-- Decoder Stack (right side) -->
  <rect x="450" y="80" width="200" height="450" rx="10" fill="#fff3e0" stroke="#ff9800" stroke-width="2" />
  <text x="550" y="100" font-family="Arial" font-size="18" text-anchor="middle" fill="#ef6c00">Décodeur</text>
  
  <!-- Encoder Blocks -->
  <rect x="170" y="120" width="160" height="90" rx="5" fill="#bbdefb" stroke="#64b5f6" stroke-width="2" />
  <text x="250" y="140" font-family="Arial" font-size="14" text-anchor="middle" fill="#1976d2">Multi-Head</text>
  <text x="250" y="160" font-family="Arial" font-size="14" text-anchor="middle" fill="#1976d2">Self-Attention</text>
  
  <rect x="170" y="220" width="160" height="60" rx="5" fill="#bbdefb" stroke="#64b5f6" stroke-width="2" />
  <text x="250" y="250" font-family="Arial" font-size="14" text-anchor="middle" fill="#1976d2">Feed Forward</text>
  
  <rect x="170" y="290" width="160" height="90" rx="5" fill="#bbdefb" stroke="#64b5f6" stroke-width="2" />
  <text x="250" y="310" font-family="Arial" font-size="14" text-anchor="middle" fill="#1976d2">Multi-Head</text>
  <text x="250" y="330" font-family="Arial" font-size="14" text-anchor="middle" fill="#1976d2">Self-Attention</text>
  
  <rect x="170" y="390" width="160" height="60" rx="5" fill="#bbdefb" stroke="#64b5f6" stroke-width="2" />
  <text x="250" y="420" font-family="Arial" font-size="14" text-anchor="middle" fill="#1976d2">Feed Forward</text>
  
  <text x="250" y="470" font-family="Arial" font-size="24" text-anchor="middle" fill="#1976d2">...</text>
  
  <!-- Decoder Blocks -->
  <rect x="470" y="120" width="160" height="90" rx="5" fill="#ffe0b2" stroke="#ffb74d" stroke-width="2" />
  <text x="550" y="140" font-family="Arial" font-size="14" text-anchor="middle" fill="#e65100">Masked Multi-Head</text>
  <text x="550" y="160" font-family="Arial" font-size="14" text-anchor="middle" fill="#e65100">Self-Attention</text>
  
  <rect x="470" y="220" width="160" height="90" rx="5" fill="#ffe0b2" stroke="#ffb74d" stroke-width="2" />
  <text x="550" y="250" font-family="Arial" font-size="14" text-anchor="middle" fill="#e65100">Multi-Head</text>
  <text x="550" y="270" font-family="Arial" font-size="14" text-anchor="middle" fill="#e65100">Cross-Attention</text>
  
  <rect x="470" y="320" width="160" height="60" rx="5" fill="#ffe0b2" stroke="#ffb74d" stroke-width="2" />
  <text x="550" y="350" font-family="Arial" font-size="14" text-anchor="middle" fill="#e65100">Feed Forward</text>
  
  <text x="550" y="400" font-family="Arial" font-size="24" text-anchor="middle" fill="#e65100">...</text>
  
  <rect x="470" y="430" width="160" height="60" rx="5" fill="#ffe0b2" stroke="#ffb74d" stroke-width="2" />
  <text x="550" y="460" font-family="Arial" font-size="14" text-anchor="middle" fill="#e65100">Linear & Softmax</text>
  
  <!-- Input/Output -->
  <rect x="170" y="540" width="160" height="40" rx="5" fill="#c8e6c9" stroke="#66bb6a" stroke-width="2" />
  <text x="250" y="565" font-family="Arial" font-size="14" text-anchor="middle" fill="#2e7d32">Embeddings + Position</text>
  
  <rect x="470" y="540" width="160" height="40" rx="5" fill="#c8e6c9" stroke="#66bb6a" stroke-width="2" />
  <text x="550" y="565" font-family="Arial" font-size="14" text-anchor="middle" fill="#2e7d32">Embeddings + Position</text>
  
  <!-- Arrows -->
  <!-- Input arrows -->
  <path d="M 250,590 L 250,580" fill="none" stroke="#2e7d32" stroke-width="2" />
  <polygon points="250,580 245,588 255,588" fill="#2e7d32" />
  
  <path d="M 550,590 L 550,580" fill="none" stroke="#2e7d32" stroke-width="2" />
  <polygon points="550,580 545,588 555,588" fill="#2e7d32" />
  
  <!-- Encoder stack connections -->
  <path d="M 250,120 L 250,110" fill="none" stroke="#1976d2" stroke-width="2" />
  <polygon points="250,110 245,118 255,118" fill="#1976d2" />
  
  <path d="M 250,220 L 250,210" fill="none" stroke="#1976d2" stroke-width="2" />
  <polygon points="250,210 245,218 255,218" fill="#1976d2" />
  
  <path d="M 250,290 L 250,280" fill="none" stroke="#1976d2" stroke-width="2" />
  <polygon points="250,280 245,288 255,288" fill="#1976d2" />
  
  <path d="M 250,390 L 250,380" fill="none" stroke="#1976d2" stroke-width="2" />
  <polygon points="250,380 245,388 255,388" fill="#1976d2" />
  
  <!-- Decoder stack connections -->
  <path d="M 550,120 L 550,110" fill="none" stroke="#e65100" stroke-width="2" />
  <polygon points="550,110 545,118 555,118" fill="#e65100" />
  
  <path d="M 550,220 L 550,210" fill="none" stroke="#e65100" stroke-width="2" />
  <polygon points="550,210 545,218 555,218" fill="#e65100" />
  
  <path d="M 550,320 L 550,310" fill="none" stroke="#e65100" stroke-width="2" />
  <polygon points="550,310 545,318 555,318" fill="#e65100" />
  
  <path d="M 550,430 L 550,410" fill="none" stroke="#e65100" stroke-width="2" />
  <polygon points="550,410 545,418 555,418" fill="#e65100" />
  
  <!-- Encoder-Decoder connection -->
  <path d="M 330,165 L 470,260" fill="none" stroke="#673ab7" stroke-width="2" stroke-dasharray="5,5" />
  <polygon points="470,260 460,255 462,265" fill="#673ab7" />
  
  <path d="M 330,335 L 470,260" fill="none" stroke="#673ab7" stroke-width="2" stroke-dasharray="5,5" />
  <polygon points="470,260 460,255 462,265" fill="#673ab7" />
  
  <!-- Output arrow -->
  <path d="M 550,490 L 550,530" fill="none" stroke="#e65100" stroke-width="2" />
  <polygon points="550,530 545,522 555,522" fill="#e65100" />
  
  <!-- Input and Output Labels -->
  <text x="250" y="595" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Entrée</text>
  <text x="550" y="595" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Sortie (décalée)</text>
  
  <!-- Legend -->
  <rect x="650" y="540" width="120" height="40" rx="5" fill="none" stroke="#333" stroke-width="1" />
  <text x="710" y="560" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">N×</text>
  <text x="710" y="575" font-family="Arial" font-size="10" text-anchor="middle" fill="#333">(Couches empilées)</text>
</svg>